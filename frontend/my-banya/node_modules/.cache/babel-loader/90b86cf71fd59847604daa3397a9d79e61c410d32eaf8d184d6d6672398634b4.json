{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khram\\\\Desktop\\\\ilya\\\\banya\\\\frontend\\\\my-banya\\\\src\\\\pages\\\\Admin\\\\Reservations\\\\BookingDetailsModal.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Admin/Reservations/BookingDetailsModal.jsx\n\nimport { useState, useEffect } from 'react';\nimport { useGetBathsQuery } from '../../../redux/slices/apiSlice';\nimport AddBookingModal from './AddBookingModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BookingDetailsModal({\n  booking,\n  onClose,\n  onDelete\n}) {\n  _s();\n  var _booking$brooms, _booking$massages, _booking$menu_items;\n  const [isEditing, setIsEditing] = useState(false);\n  const {\n    data: baths = [],\n    isLoading: isLoadingBaths\n  } = useGetBathsQuery();\n\n  // Сброс режима при смене брони\n  useEffect(() => {\n    setIsEditing(false);\n  }, [booking]);\n  if (!booking) return null;\n  const bath = baths.find(b => b.bath_id === booking.bath_id);\n  const bathName = (bath === null || bath === void 0 ? void 0 : bath.name) || 'Баня не найдена';\n\n  // 🧮 Рассчитываем стоимость услуг\n  const broomsTotal = (booking.brooms || []).reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const menuItemsTotal = (booking.menu_items || []).reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const massagesTotal = (booking.massages || []).reduce((sum, item) => sum + item.cost * item.quantity, 0);\n  const bathOnlyCost = booking.total_cost - broomsTotal - menuItemsTotal - massagesTotal;\n\n  // 🔁 Переключиться обратно к просмотру\n  const handleBackToView = () => {\n    setIsEditing(false);\n  };\n\n  // ✅ После успешного редактирования — закрыть всё\n  const handleEditSuccess = () => {\n    onClose(); // или можно обновить данные и остаться в просмотре\n  };\n  if (isEditing) {\n    return /*#__PURE__*/_jsxDEV(AddBookingModal, {\n      isOpen: true\n      // 🔁 Закрытие = возврат к просмотру, а не полное закрытие\n      ,\n      onClose: handleBackToView,\n      booking: booking\n      // Опционально: передать колбэк на успех\n      ,\n      onEditSuccess: handleEditSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-800\",\n          children: \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0431\\u0440\\u043E\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"absolute top-6 right-6 text-gray-500 hover:text-gray-700 text-2xl\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 space-y-4 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 16\n          }, this), \" \", booking.client_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 16\n          }, this), \" \", booking.client_phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), booking.client_email && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 41\n          }, this), \" \", booking.client_email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0411\\u0430\\u043D\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 16\n          }, this), \" \", bathName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0413\\u043E\\u0441\\u0442\\u0435\\u0439:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 6\n          }, this), \" \", booking.guests]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0412\\u0440\\u0435\\u043C\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), ' ', new Date(booking.start_datetime).toLocaleString('ru-RU'), \" \\u2014\", ' ', new Date(booking.end_datetime).toLocaleString('ru-RU')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), booking.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 34\n          }, this), \" \", booking.notes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 bg-gray-50 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-800 mb-4\",\n          children: \"\\u0427\\u0435\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0411\\u0430\\u043D\\u044F (\", bathName, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [bathOnlyCost.toLocaleString(), \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), ((_booking$brooms = booking.brooms) === null || _booking$brooms === void 0 ? void 0 : _booking$brooms.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2 border-t border-gray-200 mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0412\\u0435\\u043D\\u0438\\u043A\\u0438:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), booking.brooms.map((broom, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between pl-4 text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [broom.name, \" \\xD7 \", broom.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [(broom.price * broom.quantity).toLocaleString(), \" \\u20BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true), ((_booking$massages = booking.massages) === null || _booking$massages === void 0 ? void 0 : _booking$massages.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2 border-t border-gray-200 mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u041C\\u0430\\u0441\\u0441\\u0430\\u0436\\u0438:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), booking.massages.map((massage, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between pl-4 text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [massage.name, \" \\xD7 \", massage.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [(massage.cost * massage.quantity).toLocaleString(), \" \\u20BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true), ((_booking$menu_items = booking.menu_items) === null || _booking$menu_items === void 0 ? void 0 : _booking$menu_items.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2 border-t border-gray-200 mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0411\\u043B\\u044E\\u0434\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), booking.menu_items.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between pl-4 text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item.name, \" \\xD7 \", item.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [(item.price * item.quantity).toLocaleString(), \" \\u20BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-3 border-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between font-bold text-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0418\\u0442\\u043E\\u0433\\u043E \\u043A \\u043E\\u043F\\u043B\\u0430\\u0442\\u0435:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: [booking.total_cost.toLocaleString(), \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-t border-gray-200 flex flex-col sm:flex-row gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(true),\n          className: \"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition font-medium\",\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (window.confirm('Удалить бронь?')) {\n              onDelete(booking.reservation_id);\n              onClose(); // закрыть после удаления\n            }\n          },\n          className: \"flex-1 bg-red-100 text-red-700 py-2 px-4 rounded-lg hover:bg-red-200 transition font-medium\",\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition font-medium\",\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingDetailsModal, \"BDfNXYH4vba+qYKW+jxayOO0hKg=\", false, function () {\n  return [useGetBathsQuery];\n});\n_c = BookingDetailsModal;\nexport default BookingDetailsModal;\nvar _c;\n$RefreshReg$(_c, \"BookingDetailsModal\");","map":{"version":3,"names":["useState","useEffect","useGetBathsQuery","AddBookingModal","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingDetailsModal","booking","onClose","onDelete","_s","_booking$brooms","_booking$massages","_booking$menu_items","isEditing","setIsEditing","data","baths","isLoading","isLoadingBaths","bath","find","b","bath_id","bathName","name","broomsTotal","brooms","reduce","sum","item","price","quantity","menuItemsTotal","menu_items","massagesTotal","massages","cost","bathOnlyCost","total_cost","handleBackToView","handleEditSuccess","isOpen","onEditSuccess","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","client_name","client_phone","client_email","guests","Date","start_datetime","toLocaleString","end_datetime","notes","length","map","broom","idx","massage","window","confirm","reservation_id","_c","$RefreshReg$"],"sources":["C:/Users/khram/Desktop/ilya/banya/frontend/my-banya/src/pages/Admin/Reservations/BookingDetailsModal.jsx"],"sourcesContent":["// src/pages/Admin/Reservations/BookingDetailsModal.jsx\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useGetBathsQuery } from '../../../redux/slices/apiSlice';\r\nimport AddBookingModal from './AddBookingModal';\r\n\r\nfunction BookingDetailsModal({ booking, onClose, onDelete }) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const { data: baths = [], isLoading: isLoadingBaths } = useGetBathsQuery();\r\n\r\n  // Сброс режима при смене брони\r\n  useEffect(() => {\r\n    setIsEditing(false);\r\n  }, [booking]);\r\n\r\n  if (!booking) return null;\r\n\r\n  const bath = baths.find(b => b.bath_id === booking.bath_id);\r\n  const bathName = bath?.name || 'Баня не найдена';\r\n\r\n  // 🧮 Рассчитываем стоимость услуг\r\n  const broomsTotal = (booking.brooms || []).reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  const menuItemsTotal = (booking.menu_items || []).reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  const massagesTotal = (booking.massages || []).reduce((sum, item) => sum + (item.cost * item.quantity), 0);\r\n  const bathOnlyCost = booking.total_cost - broomsTotal - menuItemsTotal - massagesTotal;\r\n\r\n  // 🔁 Переключиться обратно к просмотру\r\n  const handleBackToView = () => {\r\n    setIsEditing(false);\r\n  };\r\n\r\n  // ✅ После успешного редактирования — закрыть всё\r\n  const handleEditSuccess = () => {\r\n    onClose(); // или можно обновить данные и остаться в просмотре\r\n  };\r\n\r\n  if (isEditing) {\r\n    return (\r\n      <AddBookingModal\r\n        isOpen={true}\r\n        // 🔁 Закрытие = возврат к просмотру, а не полное закрытие\r\n        onClose={handleBackToView}\r\n        booking={booking}\r\n        // Опционально: передать колбэк на успех\r\n        onEditSuccess={handleEditSuccess}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800\">Детали брони</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"absolute top-6 right-6 text-gray-500 hover:text-gray-700 text-2xl\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-4 text-sm\">\r\n          <div><strong>Клиент:</strong> {booking.client_name}</div>\r\n          <div><strong>Телефон:</strong> {booking.client_phone}</div>\r\n          {booking.client_email && <div><strong>Email:</strong> {booking.client_email}</div>}\r\n          <div><strong>Баня:</strong> {bathName}</div>\r\n          {/* После строки с временем */}\r\n<div><strong>Гостей:</strong> {booking.guests}</div>\r\n          <div>\r\n            <strong>Время:</strong>{' '}\r\n            {new Date(booking.start_datetime).toLocaleString('ru-RU')} —{' '}\r\n            {new Date(booking.end_datetime).toLocaleString('ru-RU')}\r\n          </div>\r\n          {booking.notes && <div><strong>Комментарий:</strong> {booking.notes}</div>}\r\n        </div>\r\n\r\n        {/* 💰 Чек */}\r\n        <div className=\"p-6 bg-gray-50 border-t border-gray-200\">\r\n          <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Чек</h3>\r\n          <div className=\"space-y-2 text-sm\">\r\n            <div className=\"flex justify-between\">\r\n              <span>Баня ({bathName}):</span>\r\n              <strong>{bathOnlyCost.toLocaleString()} ₽</strong>\r\n            </div>\r\n\r\n            {booking.brooms?.length > 0 && (\r\n              <>\r\n                <div className=\"pt-2 border-t border-gray-200 mt-2\"><span className=\"font-medium\">Веники:</span></div>\r\n                {booking.brooms.map((broom, idx) => (\r\n                  <div key={idx} className=\"flex justify-between pl-4 text-gray-600\">\r\n                    <span>{broom.name} × {broom.quantity}</span>\r\n                    <span>{(broom.price * broom.quantity).toLocaleString()} ₽</span>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            )}\r\n\r\n            {booking.massages?.length > 0 && (\r\n              <>\r\n                <div className=\"pt-2 border-t border-gray-200 mt-2\"><span className=\"font-medium\">Массажи:</span></div>\r\n                {booking.massages.map((massage, idx) => (\r\n                  <div key={idx} className=\"flex justify-between pl-4 text-gray-600\">\r\n                    <span>{massage.name} × {massage.quantity}</span>\r\n                    <span>{(massage.cost * massage.quantity).toLocaleString()} ₽</span>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            )}\r\n\r\n            {booking.menu_items?.length > 0 && (\r\n              <>\r\n                <div className=\"pt-2 border-t border-gray-200 mt-2\"><span className=\"font-medium\">Блюда:</span></div>\r\n                {booking.menu_items.map((item, idx) => (\r\n                  <div key={idx} className=\"flex justify-between pl-4 text-gray-600\">\r\n                    <span>{item.name} × {item.quantity}</span>\r\n                    <span>{(item.price * item.quantity).toLocaleString()} ₽</span>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            )}\r\n\r\n            <hr className=\"my-3 border-gray-300\" />\r\n            <div className=\"flex justify-between font-bold text-lg\">\r\n              <span>Итого к оплате:</span>\r\n              <span className=\"text-green-600\">{booking.total_cost.toLocaleString()} ₽</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 border-t border-gray-200 flex flex-col sm:flex-row gap-3\">\r\n          <button\r\n            onClick={() => setIsEditing(true)}\r\n            className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition font-medium\"\r\n          >\r\n            Редактировать\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm('Удалить бронь?')) {\r\n                onDelete(booking.reservation_id);\r\n                onClose(); // закрыть после удаления\r\n              }\r\n            }}\r\n            className=\"flex-1 bg-red-100 text-red-700 py-2 px-4 rounded-lg hover:bg-red-200 transition font-medium\"\r\n          >\r\n            Удалить\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition font-medium\"\r\n          >\r\n            Закрыть\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingDetailsModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}